# User Schemas

UserResponse:
  type: object
  properties:
    id:
      type: string
      format: uuid
    email:
      type: string
      format: email
    first_name:
      type: string
    last_name:
      type: string
    provider:
      type: string
      enum: [local, google, apple]
    roles:
      type: array
      items:
        $ref: '#/Role'
    is_active:
      type: boolean
    is_admin:
      type: boolean
    preferred_weight_unit:
      type: string
      enum: [kg, lb]
    preferred_height_unit:
      type: string
      enum: [cm, ft]
    preferred_distance_unit:
      type: string
      enum: [km, mi]
    created_at:
      type: string
      format: date-time
    updated_at:
      type: string
      format: date-time

Role:
  type: object
  properties:
    id:
      type: integer
    name:
      type: string
      example: "user"
    description:
      type: string

UserSettingsResponse:
  type: object
  properties:
    id:
      type: string
      format: uuid
    email:
      type: string
      format: email
    first_name:
      type: string
    last_name:
      type: string
    preferred_weight_unit:
      type: string
      enum: [kg, lb]
    preferred_height_unit:
      type: string
      enum: [cm, ft]
    preferred_distance_unit:
      type: string
      enum: [km, mi]

UpdateUserSettingsRequest:
  type: object
  properties:
    preferred_weight_unit:
      type: string
      enum: [kg, lb]
    preferred_height_unit:
      type: string
      enum: [cm, ft]
    preferred_distance_unit:
      type: string
      enum: [km, mi]
    first_name:
      type: string
      minLength: 1
      maxLength: 100
    last_name:
      type: string
      minLength: 1
      maxLength: 100

UserFitnessProfileResponse:
  type: object
  properties:
    id:
      type: string
      format: uuid
    user_id:
      type: string
      format: uuid
    date_of_birth:
      type: string
      format: date
    age:
      type: integer
    gender:
      type: string
      enum: [male, female, other, prefer_not_to_say]
    height_cm:
      type: number
      format: float
    height_ft_in:
      type: string
      example: "5'11\""
    current_weight:
      $ref: './common.yaml#/WeightOutput'
    fitness_goals:
      type: array
      items:
        $ref: './fitness.yaml#/UserFitnessGoalResponse'
    target_weight:
      $ref: './common.yaml#/WeightOutput'
    target_weekly_workouts:
      type: integer
      minimum: 1
      maximum: 7
    activity_level:
      type: string
      enum: [sedentary, lightly_active, moderate, active, very_active]
    training_locations:
      type: array
      items:
        type: string
        enum: [home, gym, outdoors]
    preferred_workout_duration_mins:
      type: integer
      minimum: 10
      maximum: 180
    available_days:
      type: array
      items:
        type: string
        enum: [monday, tuesday, wednesday, thursday, friday, saturday, sunday]
    health_conditions:
      type: string
    injuries_notes:
      type: string
    fitness_level_id:
      type: string
      format: uuid
    fitness_level:
      $ref: './fitness.yaml#/FitnessLevelResponse'
    created_at:
      type: string
      format: date-time
    updated_at:
      type: string
      format: date-time

CreateUserFitnessProfileRequest:
  type: object
  required:
    - date_of_birth
    - gender
    - height_cm
    - current_weight
    - fitness_goal_ids
  properties:
    date_of_birth:
      type: string
      format: date
      example: "1990-05-15"
    gender:
      type: string
      enum: [male, female, other, prefer_not_to_say]
    height_cm:
      type: number
      format: float
      minimum: 50
      maximum: 300
      example: 180.5
    current_weight:
      $ref: './common.yaml#/WeightInput'
    fitness_goal_ids:
      type: array
      minItems: 1
      maxItems: 5
      items:
        type: string
        format: uuid
    fitness_level_id:
      type: string
      format: uuid
    target_weight:
      $ref: './common.yaml#/WeightInput'
    target_weekly_workouts:
      type: integer
      minimum: 1
      maximum: 7
      default: 3
    activity_level:
      type: string
      enum: [sedentary, lightly_active, moderate, active, very_active]
      default: moderate
    training_locations:
      type: array
      items:
        type: string
        enum: [home, gym, outdoors]
      default: [gym]
    preferred_workout_duration_mins:
      type: integer
      minimum: 10
      maximum: 180
      default: 45
    available_days:
      type: array
      items:
        type: string
        enum: [monday, tuesday, wednesday, thursday, friday, saturday, sunday]
      default: [monday, wednesday, friday]
    health_conditions:
      type: string
      maxLength: 1000
    injuries_notes:
      type: string
      maxLength: 1000

UpdateUserFitnessProfileRequest:
  type: object
  properties:
    date_of_birth:
      type: string
      format: date
    gender:
      type: string
      enum: [male, female, other, prefer_not_to_say]
    height_cm:
      type: number
      format: float
      minimum: 50
      maximum: 300
    current_weight:
      $ref: './common.yaml#/WeightInput'
    fitness_goal_ids:
      type: array
      maxItems: 5
      items:
        type: string
        format: uuid
    fitness_level_id:
      type: string
      format: uuid
    target_weight:
      $ref: './common.yaml#/WeightInput'
    target_weekly_workouts:
      type: integer
      minimum: 1
      maximum: 7
    activity_level:
      type: string
      enum: [sedentary, lightly_active, moderate, active, very_active]
    training_locations:
      type: array
      items:
        type: string
        enum: [home, gym, outdoors]
    preferred_workout_duration_mins:
      type: integer
      minimum: 10
      maximum: 180
    available_days:
      type: array
      items:
        type: string
        enum: [monday, tuesday, wednesday, thursday, friday, saturday, sunday]
    health_conditions:
      type: string
      maxLength: 1000
    injuries_notes:
      type: string
      maxLength: 1000

WeightLogResponse:
  type: object
  properties:
    id:
      type: string
      format: uuid
    user_id:
      type: string
      format: uuid
    weight_kg:
      type: number
      format: float
    weight_unit:
      type: string
      enum: [kg, lb]
    logged_at:
      type: string
      format: date-time
    notes:
      type: string
    created_at:
      type: string
      format: date-time

CreateWeightLogRequest:
  type: object
  required:
    - weight
  properties:
    weight:
      $ref: './common.yaml#/WeightInput'
    logged_at:
      type: string
      format: date-time
    notes:
      type: string
      maxLength: 500

UpdateWeightLogRequest:
  type: object
  properties:
    weight:
      $ref: './common.yaml#/WeightInput'
    logged_at:
      type: string
      format: date-time
    notes:
      type: string
      maxLength: 500

WeightStatsResponse:
  type: object
  properties:
    current_weight:
      $ref: './common.yaml#/WeightOutput'
    starting_weight:
      $ref: './common.yaml#/WeightOutput'
    lowest_weight:
      $ref: './common.yaml#/WeightOutput'
    highest_weight:
      $ref: './common.yaml#/WeightOutput'
    weight_change:
      $ref: './common.yaml#/WeightOutput'
    total_logs:
      type: integer

UserEquipmentResponse:
  type: object
  properties:
    id:
      type: string
      format: uuid
    user_id:
      type: string
      format: uuid
    equipment_id:
      type: string
      format: uuid
    equipment:
      $ref: './exercise.yaml#/EquipmentResponse'
    location:
      type: string
      enum: [home, gym, outdoors, other]
    notes:
      type: string
    created_at:
      type: string
      format: date-time

AddUserEquipmentRequest:
  type: object
  required:
    - equipment_id
  properties:
    equipment_id:
      type: string
      format: uuid
    location:
      type: string
      enum: [home, gym, outdoors, other]
      default: home
    notes:
      type: string
      maxLength: 500

BulkAddUserEquipmentRequest:
  type: object
  required:
    - equipment_ids
  properties:
    equipment_ids:
      type: array
      items:
        type: string
        format: uuid
    location:
      type: string
      enum: [home, gym, outdoors, other]
      default: home

UpdateUserEquipmentRequest:
  type: object
  properties:
    location:
      type: string
      enum: [home, gym, outdoors, other]
    notes:
      type: string
      maxLength: 500
